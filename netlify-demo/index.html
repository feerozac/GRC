<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Boardroom to Control Objectives — Prototype</title>
    <style>
      :root {
        --bg: #0b0f1a;
        --panel: #0f172a;
        --panel-2: #111b33;
        --text: #e2e8f0;
        --muted: #94a3b8;
        --line: #22304a;
        --blue: #38bdf8;
        --teal: #22d3ee;
        --purple: #a855f7;
        --green: #34d399;
      }
      * { box-sizing: border-box; }
      body {
        margin: 0;
        background: var(--bg);
        color: var(--text);
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      }
      header {
        padding: 18px 22px;
        border-bottom: 1px solid var(--line);
        background: #0c0f14;
      }
      header h1 { margin: 0 0 6px; font-size: 20px; }
      header p { margin: 0; color: var(--muted); font-size: 12px; }
      .page { padding: 18px 22px 40px; }
      .grid {
        display: grid;
        gap: 12px;
      }
      .grid.two { grid-template-columns: 1fr 1fr; }
      .grid.three { grid-template-columns: repeat(3, 1fr); }
      .card {
        background: var(--panel);
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 12px;
      }
      .card h2 { margin: 0 0 8px; font-size: 14px; color: var(--muted); }
      .pill {
        display: inline-block;
        padding: 4px 8px;
        border: 1px solid var(--line);
        border-radius: 999px;
        font-size: 11px;
        color: var(--muted);
        margin-right: 6px;
      }
      .btn {
        border: 1px solid var(--line);
        background: #0f162b;
        color: var(--text);
        padding: 8px 10px;
        border-radius: 8px;
        font-size: 12px;
      }
      .textarea {
        background: var(--panel-2);
        border: 1px solid var(--line);
        border-radius: 10px;
        min-height: 120px;
        padding: 10px;
        color: var(--muted);
        font-size: 12px;
      }
      .list { margin: 0; padding: 0; list-style: none; }
      .list li {
        padding: 10px;
        margin: 8px 0;
        border: 1px solid var(--line);
        border-left: 3px solid var(--blue);
        border-radius: 10px;
        background: #0f162b;
      }
      .tag {
        display: inline-block;
        padding: 2px 6px;
        font-size: 10px;
        border-radius: 6px;
        border: 1px solid var(--line);
        color: var(--muted);
        margin-left: 6px;
      }
      .flow {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 8px;
      }
      .flow .step {
        border: 1px solid var(--line);
        border-radius: 10px;
        padding: 8px;
        text-align: center;
        background: var(--panel-2);
        font-size: 12px;
        color: var(--muted);
      }
      .step.blue { border-color: var(--blue); }
      .step.teal { border-color: var(--teal); }
      .step.purple { border-color: var(--purple); }
      .step.green { border-color: var(--green); }
      .table {
        width: 100%;
        border-collapse: collapse;
        font-size: 12px;
      }
      .table th, .table td {
        border: 1px solid var(--line);
        padding: 8px;
        text-align: left;
        color: var(--muted);
      }
      .table th { color: var(--text); background: #0f162b; }
      .agent-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
      }
      .agent-card {
        border: 1px solid var(--line);
        border-radius: 12px;
        padding: 10px;
        background: #0f162b;
      }
      .agent-card h3 {
        margin: 0 0 6px;
        font-size: 13px;
        color: var(--text);
      }
      .agent-role {
        font-size: 11px;
        color: var(--muted);
        margin-bottom: 6px;
      }
      .agent-status {
        display: inline-block;
        font-size: 10px;
        color: var(--muted);
        border: 1px solid var(--line);
        border-radius: 6px;
        padding: 2px 6px;
      }
      .rec-list {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .rec-list li {
        padding: 10px;
        margin: 8px 0;
        border: 1px solid var(--line);
        border-left: 3px solid var(--purple);
        border-radius: 10px;
        background: #0f162b;
      }
      .muted { color: var(--muted); }
      .hidden { display: none; }
      .active-step { box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.5); }
      .approved { border-left-color: var(--green); }
      .warning { border-left-color: var(--blue); }
    </style>
  </head>
  <body>
    <header>
      <h1>Boardroom → Control Objectives</h1>
      <p>Single‑page prototype: ingest boardroom inputs, map to governance objectives and controls, review with explainability.</p>
    </header>

    <div class="page">
      <div class="card">
        <h2>Flow Overview</h2>
        <div class="flow" id="flow-steps">
          <div class="step blue active-step" data-step="inputs">Boardroom Inputs</div>
          <div class="step teal" data-step="objectives">Governance Objectives</div>
          <div class="step purple" data-step="controls">Control Objectives</div>
          <div class="step blue" data-step="risk">Risk Appetite</div>
          <div class="step green" data-step="metrics">Metrics</div>
        </div>
      </div>

      <div class="grid two" style="margin-top: 12px;">
        <div class="card">
          <h2>Boardroom Inputs</h2>
          <div class="pill">Board Minutes</div>
          <div class="pill">Strategy Deck</div>
          <div class="pill">Executive Notes</div>
          <div class="textarea" id="input-area">Paste or upload: strategic priorities, risk statements, regulatory commitments…</div>
          <div style="margin-top: 10px;">
            <button class="btn" id="upload-btn">Upload Document</button>
            <button class="btn" id="extract-btn">Run AI Extraction</button>
          </div>
        </div>

        <div class="card" id="themes-card">
          <h2>Extracted Board Themes</h2>
          <ul class="list">
            <li>
              Expand APAC payments footprint with strong regulator trust
              <span class="tag">Risk Appetite</span>
            </li>
            <li>
              Reduce audit prep cycle to under 2 weeks
              <span class="tag">Operational Efficiency</span>
            </li>
            <li>
              Demonstrate explainability for AI‑driven decisions
              <span class="tag">Ethics & Compliance</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="grid two" style="margin-top: 12px;">
        <div class="card">
          <h2>Agent Processing</h2>
          <div class="agent-grid">
            <div class="agent-card">
              <h3>1L Ops Agent</h3>
              <div class="agent-role">Controls + evidence feasibility</div>
              <span class="agent-status">Processing inputs</span>
            </div>
            <div class="agent-card">
              <h3>2L Risk Agent</h3>
              <div class="agent-role">Risk posture + governance mapping</div>
              <span class="agent-status">Drafting recommendations</span>
            </div>
            <div class="agent-card">
              <h3>3L Audit Agent</h3>
              <div class="agent-role">Assurance + audit readiness</div>
              <span class="agent-status">Reviewing control gaps</span>
            </div>
          </div>
        </div>
        <div class="card">
          <h2>Agent Recommendations</h2>
          <ul class="rec-list">
            <li>
              Prioritize evidence automation for payment controls
              <span class="tag">High Impact</span>
              <span class="tag">1L Owner</span>
            </li>
            <li>
              Add explainability checkpoint for AI approvals
              <span class="tag">Policy Gap</span>
              <span class="tag">2L Owner</span>
            </li>
            <li>
              Schedule quarterly control testing for HKMA updates
              <span class="tag">Assurance</span>
              <span class="tag">3L Owner</span>
            </li>
          </ul>
          <button class="btn">Accept Recommendations</button>
        </div>
      </div>

      <div class="grid two" style="margin-top: 12px;">
        <div class="card">
          <h2>Control Tower</h2>
          <div class="pill">Boardroom Appetite</div>
          <div class="pill">KCI Status</div>
          <div class="pill">RCSA Mapping</div>
          <table class="table" style="margin-top: 10px;">
            <thead>
              <tr>
                <th>Board Appetite</th>
                <th>KCI</th>
                <th>Status</th>
                <th>RCSA Result</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Low tolerance for evidence gaps</td>
                <td>Evidence completeness &gt; 95%</td>
                <td>Amber</td>
                <td>Needs remediation</td>
              </tr>
              <tr>
                <td>Zero tolerance for unlogged AI decisions</td>
                <td>Explainability checkpoint rate</td>
                <td>Green</td>
                <td>Effective</td>
              </tr>
              <tr>
                <td>Moderate reg change risk</td>
                <td>Reg change SLA &lt; 24h</td>
                <td>Red</td>
                <td>Material gap</td>
              </tr>
            </tbody>
          </table>
          <div style="margin-top: 10px;">
            <button class="btn">View RCSA Detail</button>
            <button class="btn">Trigger Remediation</button>
          </div>
        </div>
        <div class="card">
          <h2>Control Tower Signals</h2>
          <ul class="list">
            <li>RCSA control failures linked to evidence gaps <span class="tag">2L Review</span></li>
            <li>KCIs below appetite threshold in Payments <span class="tag">Escalate</span></li>
            <li>AI explainability checkpoint compliance 98% <span class="tag">On Track</span></li>
          </ul>
          <button class="btn">Open Control Tower</button>
        </div>
      </div>

      <div class="grid two" style="margin-top: 12px;">
        <div class="card">
          <h2>Process Drill‑Down: Identity & Access Management (IAM)</h2>
          <div class="pill">Process</div>
          <div class="pill">1L Definition</div>
          <ul class="list">
            <li>Scope: Joiner / Mover / Leaver access lifecycle <span class="tag">Critical</span></li>
            <li>Systems: IAM, HRIS, Privileged Access <span class="tag">Core</span></li>
            <li>Control Objective: Only authorized access, least privilege</li>
          </ul>
        </div>
        <div class="card">
          <h2>1L Ops Agent — Control Definition</h2>
          <table class="table">
            <thead>
              <tr>
                <th>Control</th>
                <th>Owner</th>
                <th>Evidence</th>
                <th>RCSA</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Access provisioning within 24h of approval</td>
                <td>IAM Ops</td>
                <td>Ticket + audit log</td>
                <td>Effective</td>
              </tr>
              <tr>
                <td>Quarterly access recertification</td>
                <td>System Owners</td>
                <td>Recert report</td>
                <td>Needs remediation</td>
              </tr>
              <tr>
                <td>PAM session recording for admins</td>
                <td>Security</td>
                <td>PAM logs</td>
                <td>Effective</td>
              </tr>
            </tbody>
          </table>
          <div style="margin-top: 10px;">
            <button class="btn">Approve 1L Controls</button>
            <button class="btn">Request Evidence</button>
          </div>
        </div>
      </div>

      <div class="grid two" style="margin-top: 12px;">
        <div class="card" id="objectives-card">
          <h2>Mapped Governance Objectives</h2>
          <ul class="list">
            <li>Maintain regulator‑ready evidence at all times <span class="tag">COBIT EDM03</span></li>
            <li>Ensure AI governance with explainability controls <span class="tag">COBIT APO13</span></li>
            <li>Shorten audit cycle through continuous assurance <span class="tag">COSO Principle 11</span></li>
          </ul>
          <button class="btn" id="approve-objectives">Approve Objectives</button>
        </div>

        <div class="card" id="controls-card">
          <h2>Control Objectives (Draft)</h2>
          <table class="table">
            <thead>
              <tr>
                <th>Control Objective</th>
                <th>Framework</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Evidence completeness maintained for critical controls</td>
                <td>ISO 27001 / NIST CSF</td>
                <td>Needs Review</td>
              </tr>
              <tr>
                <td>AI decisions are logged with rationale & approvals</td>
                <td>COBIT / COSO</td>
                <td>Draft</td>
              </tr>
              <tr>
                <td>Regulatory updates assessed within 24 hours</td>
                <td>HKMA / MAS</td>
                <td>Approved</td>
              </tr>
            </tbody>
          </table>
          <div style="margin-top: 10px;">
            <button class="btn" id="edit-controls">Edit Controls</button>
            <button class="btn" id="approve-mapping">Approve Mapping</button>
          </div>
        </div>
      </div>

      <div class="grid two" style="margin-top: 12px;">
        <div class="card" id="risk-card">
          <h2>Risk Appetite Translation</h2>
          <ul class="list">
            <li>Payments expansion: moderate regulatory risk tolerance <span class="tag">Board Approved</span></li>
            <li>Audit cycle target: low tolerance for evidence gaps <span class="tag">Policy</span></li>
            <li>AI explainability: zero tolerance for unlogged decisions <span class="tag">Ethics</span></li>
          </ul>
          <button class="btn" id="approve-risk">Approve Appetite</button>
        </div>
        <div class="card" id="explain-card">
          <h2>Explainability Panel</h2>
          <div class="textarea">
            AI rationale with citations: Board theme "regulator trust" maps to
            control objectives across evidence completeness and rapid reg updates.
            Sources: Board minutes (pp. 3–4), Strategy deck (slide 8).
          </div>
          <div style="margin-top: 10px;">
            <button class="btn" id="view-sources">View Sources</button>
            <button class="btn" id="challenge">Challenge</button>
            <button class="btn" id="approve-explain">Approve</button>
          </div>
        </div>
        <div class="card" id="evidence-card">
          <h2>Metrics & Evidence</h2>
          <ul class="list">
            <li>KRI: Reg change SLA &lt; 24h <span class="tag">Owner: Compliance</span></li>
            <li>KCI: Evidence completeness &gt; 95% <span class="tag">Owner: 1L</span></li>
            <li>KPI: Audit prep cycle &lt; 2 weeks <span class="tag">Owner: 2L</span></li>
          </ul>
          <button class="btn" id="create-monitoring">Create Monitoring</button>
        </div>
      </div>
    </div>

    <script>
      const steps = document.querySelectorAll("#flow-steps .step");
      const themesCard = document.getElementById("themes-card");
      const objectivesCard = document.getElementById("objectives-card");
      const controlsCard = document.getElementById("controls-card");
      const riskCard = document.getElementById("risk-card");
      const explainCard = document.getElementById("explain-card");
      const evidenceCard = document.getElementById("evidence-card");

      const extractBtn = document.getElementById("extract-btn");
      const approveObjectives = document.getElementById("approve-objectives");
      const approveMapping = document.getElementById("approve-mapping");
      const approveRisk = document.getElementById("approve-risk");
      const approveExplain = document.getElementById("approve-explain");

      function setStep(step) {
        steps.forEach(s => s.classList.remove("active-step"));
        document.querySelector(`[data-step="${step}"]`).classList.add("active-step");
      }

      extractBtn.addEventListener("click", () => {
        themesCard.classList.remove("hidden");
        setStep("objectives");
      });

      approveObjectives.addEventListener("click", () => {
        objectivesCard.classList.add("approved");
        setStep("controls");
      });

      approveMapping.addEventListener("click", () => {
        controlsCard.classList.add("approved");
        setStep("risk");
      });

      approveRisk.addEventListener("click", () => {
        riskCard.classList.add("approved");
        setStep("metrics");
      });

      approveExplain.addEventListener("click", () => {
        explainCard.classList.add("approved");
      });
    </script>
  </body>
</html>
